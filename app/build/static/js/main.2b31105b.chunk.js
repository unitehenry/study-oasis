(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(e,n,t){e.exports=t(508)},237:function(e,n,t){},238:function(e,n,t){},253:function(e,n){},255:function(e,n){},271:function(e,n){},273:function(e,n){},439:function(e,n){},503:function(e,n,t){},504:function(e,n,t){},505:function(e,n,t){},506:function(e,n,t){},507:function(e,n,t){},508:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),i=t(230),o=t.n(i),r=(t(237),t(91)),s=t(92),u=t(95),l=t(93),m=t(96),f=(t(238),t(94)),d=new f.AppConfig(["store_write","publish_data"]),p=(t(503),function(e){function n(){return Object(r.a)(this,n),Object(u.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.props.handleSignIn;return c.a.createElement("div",{className:"SignIn"},c.a.createElement("h1",{className:"header-logo"},"Study Oasis"),c.a.createElement("button",{onClick:e},"sign in with blockstack"))}}]),n}(a.Component)),h=t(27),E=(t(504),t(505),function(e){var n=e.choices;return c.a.createElement("ul",null,n.map(function(e,n){return c.a.createElement("li",{key:"".concat(n).concat(e)}," ",c.a.createElement("input",{type:"checkbox"}),e)}))}),v=function(e){var n=e.question;return c.a.createElement("div",{className:"Question"},c.a.createElement("p",null,n&&n.question),n&&(n.choices?c.a.createElement(E,{choices:n.choices}):c.a.createElement("textarea",{rows:10})),n&&c.a.createElement("div",{className:"actions"},c.a.createElement("button",null,"skip"),c.a.createElement("button",null,"submit")),!n&&c.a.createElement("p",{style:{textAlign:"center"}},"getting a question..."))},g=function(e){var n=e.userSession,t=Object(a.useState)([]),i=Object(h.a)(t,2),o=i[0],r=i[1];return Object(a.useEffect)(function(){0===o.length&&n.getFile("/questions.json",{username:"unitehenry.id.blockstack",decrypt:!1}).then(function(e){return r(JSON.parse(e))})}),c.a.createElement("div",{className:"SwipeWindow"},c.a.createElement("div",{className:"swipe-card"},c.a.createElement(v,{question:o&&o[0]})))},b=t(231),w=(t(506),function(e){var n=e.choice,t=e.removeChoice;return c.a.createElement("div",{className:"option"},c.a.createElement("p",null,n),c.a.createElement("span",{onClick:t},"X"))}),O=function(e){var n=e.userSession,t=Object(a.useState)(""),i=Object(h.a)(t,2),o=i[0],r=i[1],s=Object(a.useState)([]),u=Object(h.a)(s,2),l=u[0],m=u[1];return c.a.createElement("div",{className:"AskQuestion"},c.a.createElement("div",{className:"question-card"},c.a.createElement("input",{type:"text",placeholder:"ask a question",value:o,onChange:function(e){return r(e.target.value)}}),c.a.createElement("div",{className:"choice"},c.a.createElement("input",{type:"text",placeholder:"add a choice",onKeyUp:function(e){return function(e){13===e.keyCode&&(m([].concat(Object(b.a)(l),[e.target.value])),e.target.value="")}(e)}})),c.a.createElement("div",{className:"options"},l.map(function(e,n){return c.a.createElement(w,{key:"".concat(n).concat(e),choice:e,removeChoice:function(){return function(e){m(l.filter(function(n,t){return t!==e}))}(n)}})})),c.a.createElement("button",{className:"submit-btn",onClick:function(){n.getFile("/questions.json",{decrypt:!1}).then(function(e){var t=JSON.parse(e);o&&t&&t.push({question:o,choices:l}),t?n.putFile("/questions.json",JSON.stringify(t),{encrypt:!1}):n.putFile("/questions.json",JSON.stringify([{question:o,choices:l}]),{encrypt:!1}),r(""),m([]),console.log({question:o,choices:l})})}},"submit")),c.a.createElement("p",{className:"footnote"},c.a.createElement("i",null,"just submit if non multiple-choice question")))},S=(t(507),function(e){var n=e.answer,t=e.removeAnswer;return c.a.createElement("div",{className:"Answer"},c.a.createElement("p",null,c.a.createElement("strong",null,n.question&&n.question)),c.a.createElement("p",null,n.answer&&n.answer),c.a.createElement("div",{className:"actions"},c.a.createElement("button",{onClick:function(){t()}},"correct"),c.a.createElement("button",{onClick:function(){t()}},"incorrect")))}),k=function(e){var n=e.userSession,t=Object(a.useState)([]),i=Object(h.a)(t,2),o=i[0],r=i[1];Object(a.useEffect)(function(){0===o.length&&n.getFile("/questions.json",{username:"unitehenry.id.blockstack",decrypt:!1}).then(function(e){r(JSON.parse(e))})});return c.a.createElement("div",{className:"Answers"},o?o.map(function(e,n){return c.a.createElement(S,{key:"".concat(n).concat(e.answer),answer:e,removeAnswer:function(){return function(e){r(o.filter(function(n,t){return t!==e}))}(n)}})}):c.a.createElement("p",{style:{textAlign:"center"}},"no one has answered your questions"))},j=function(e){var n=e.handleSignOut,t=e.setCurrentView,a=e.answers;return console.log(a),c.a.createElement("div",{className:"Dashpane"},c.a.createElement("div",{className:"option",onClick:function(){return t("askquestion")}},c.a.createElement("p",null,"ask a question")),c.a.createElement("div",{className:"option",onClick:function(){return t("answers")}},c.a.createElement("p",null,"answers"),a&&c.a.createElement("span",null,a)),c.a.createElement("div",{className:"option",onClick:function(){return t("questions")}},c.a.createElement("p",null,"questions")),c.a.createElement("div",{className:"option",onClick:function(e){return n(e)}},c.a.createElement("p",null,"sign out")))},y=function(e){var n=e.userSession,t=e.handleSignOut;console.log(n.loadUserData().username,"signed in");var i=Object(a.useState)("questions"),o=Object(h.a)(i,2),r=o[0],s=o[1],u=Object(a.useState)([]),l=Object(h.a)(u,2),m=l[0],f=l[1];return Object(a.useEffect)(function(){0===m.length&&n.getFile("/questions.json",{username:"unitehenry.id.blockstack",decrypt:!1}).then(function(e){f(JSON.parse(e))})}),c.a.createElement("div",{className:"Dashboard"},c.a.createElement("div",{className:"container"},c.a.createElement(j,{handleSignOut:t,setCurrentView:function(e){return s(e)},answers:m.length}),"askquestion"===r&&c.a.createElement(O,{userSession:n}),"answers"===r&&c.a.createElement(k,{userSession:n}),"questions"===r&&c.a.createElement(g,{userSession:n})))},N=new f.UserSession({appConfig:d}),q=function(e){function n(){return Object(r.a)(this,n),Object(u.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"handleSignIn",value:function(e){e.preventDefault(),N.redirectToSignIn()}},{key:"handleSignOut",value:function(e){e.preventDefault(),N.signUserOut(window.location.origin)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,N.isUserSignedIn()?c.a.createElement(y,{userSession:N,handleSignOut:function(n){return e.handleSignOut(n)}}):c.a.createElement(p,{userSession:N,handleSignIn:this.handleSignIn}))}},{key:"componentDidMount",value:function(){N.isSignInPending()&&N.handlePendingSignIn().then(function(e){window.location=window.location.origin})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[232,1,2]]]);
//# sourceMappingURL=main.2b31105b.chunk.js.map